<div class="sidebar" ng-controller="SidebarCtrl">
  <button type="button" class="sidebar-btn">Lobby</button>

  <nav>
    <ul class="room-list">
      <li class="room"
          ng-repeat="room in flowdock.rooms | filter:{open:true}"
          ng-class="{'active': room.id === currentRoom.id,
                     'unread': room.unread > 0}">
        <button type="button"
            class="sidebar-btn room__join-btn"
            ng-click="showRoom(room)">
          <i class="fa fa-fw fa-comments-o room__type-icon"></i> {{room.name}}

          <i class="fa fa-fw fa-circle unread-marker"></i>
        </button>

        <button type="button"
            class="room__close-btn"
            ng-click="leaveRoom(room)">
          <i class="fa fa-fw fa-times"></i>
        </button>
      </li>

      <li class="room"
          ng-repeat="query in flowdock.queries | filter:{open:true}"
          ng-class="{'query-online': query.online,
                     'query-offline': !query.online,
                     'active': query === currentRoom,
                     'unread': room.unread > 0}">
        <button type="button"
            class="sidebar-btn room__join-btn"
            ng-click="showRoom(query)">
          <i class="fa fa-fw room__type-icon"
              ng-class="{'fa-circle': query.online,
                         'fa-circle-o': !query.online}"></i> {{query.name}}

          <i class="fa fa-fw fa-circle unread-marker"></i>
        </button>

        <button type="button"
            class="room__close-btn"
            ng-click="leaveRoom(query)">
          <i class="fa fa-fw fa-times"></i>
        </button>
      </li>
    </ul>
  </nav>
</div>
